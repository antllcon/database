# Задание 1

Последовательно приведите отношение к 1-й, 2-й и 3-й нормальной форме. 
Будьте готовы пояснить свое решение с помощью терминов из лекции.



### 1.1 - 5 баллов
__Попытки прохождения курса__.
Отношение __S__ (email, login, content_title, passed_scores, dates). 
- `email` – email пользователя
- `login` – login пользователяs
- `content_title` – наименование курса
- `passed_scores` – целочисленные баллы за попытку прохождения курса
- `dates` – даты попыток

Первая нормальная форма - та же таблица:
- `email` – email пользователя
- `login` – login пользователя
- `content_title` – наименование курса
- `passed_scores` – средний балл за попытку прохождения курса
- `dates` – даты попыток

Вторая нормальная форма - декомпозируем на таблицы Users и Attempts:
1. Таблица __Users__ или отношение __SE__ - `email`:
    - `email` – email пользователя
    - `login` – login пользователя

2. Таблица __Attempts__ или отношение __SECD__ - `email`, `content_title`,
 `dates`:
    - `email` – email пользователя
    - `content_title` – наименование курса
    - `dates` – даты попыток
    - `passed_scores` – средний балл за попытку прохождения курса

Третья нормальная форма уже сформирована, нет транзитивных зависимостей.


### 1.2 - 7 баллов
__Таблица истории оплаты газоснабжения__.
Отношение P (client_inn, volumes, date, addresses, costs). 
- `client_inn` - ИНН плательщика
- `volumes` - обьёмы оплаты газа
- `date` - дата оплаты
- `addresses` - адреса, по которым оплачивался газ, включая город, улицу,
                номер дома и квартиру
- `costs` - суммы оплат

Первая нормальная форма - все атрибуты содержат атомарные значения, 
нет повторяющихся групп данных:
- `client_inn` - ИНН плательщика
- `volumes` - обьёмы оплаты газа
- `date` - дата оплаты
- `city` - название города
- `street` - название улицы
- `house` - номер дома
- `flat` - номер квартиры
- `costs` - суммы оплат

Вторая нормальная форма - декомпозируем отношение P:
1. Таблица __Payments__ или отношение __PCDA__ - `client_inn`, `date`, `adress_id`
    - `client_inn` - ИНН плательщика
    - `date` - дата оплаты
    - `adress_id` - уник. идент. (для связи с таблицей адресов)
    - `volumes` - обьёмы оплаты газа
    - `costs` - суммы оплат

2. Таблица __Adresses__ или отношение __PCA__ `client_inn`, `adress_id`
    - `adress_id` - уник. идент. (может быть и не одна кв. в собственности)
    - `client_inn` - ИНН плательщика
    - `city` - название города
    - `street` - название улицы
    - `house` - номер дома
    - `flat` - номер квартиры

Третья нормальная форма уже соблюдена, нет транзитивных зависимостей.

### 1.3 - 8 баллов
__Таблица аттестаций студентов__.
Отношение A (student_email, teacher_emails, subjects, max_attestation_scores, min_attestation_scores, student_attestation_scores, date,
are_all_attestations_passed). 

- `student_email` - email студента
- `teacher_names` - email-ы преподавателей
- `subjects` - Предметы - пусть будут уникальными
- `max_attestation_scores` - максимальные баллы за аттестацию
- `min_attestation_scores` - минимальные проходные баллы за аттестацию
- `student_attestation_scores` - фактические баллы студента за аттестацию
- `date` - дата аттестации
- `are_all_attestations_passed` - пройдены ли студентом аттестации по всем
предметам в этом

Первая нормальная форма - все атрибуты содержат атомарные значения, 
нет повторяющихся групп данных:

Проблему вызывают email-ы преподавателей - сделаем `teacher_name`, чтобы не
нарушать атомарность. А также `subjects` - исправим.

- `student_email` - email студента
- `teacher_name` - email-ы преподавателей
- `subject` - предмет (уникальный)
- `date` - дата аттестации
- `max_attestation_scores` - максимальные баллы за аттестацию
- `min_attestation_scores` - минимальные проходные баллы за аттестацию
- `student_attestation_scores` - фактические баллы студента за аттестацию
- `are_all_attestations_passed` - пройдены ли студентом все аттестации 

Вторая нормальная форма - ДЕКОМПОЗИРУЕМ!!!:
Сразу видно, что можно поделть на предметы, преподавателей с баллами и студентов
с их результатами

1. Таблица __Subjects__ или отношение __AS__ - `subject`
    - `subject` - предмет (уникальный)
    - `teacher_name` - email-ы преподавателей
    - `max_attestation_scores` - максимальные баллы за аттестацию
    - `min_attestation_scores` - минимальные проходные баллы за аттестацию

2. Таблица __Students__ или отношение __ASSD__ - `student_email`, `subject`,
`date`
    - `student_email` - контакт студента (уникальный)
    - `subject` - ИНН плательщика
    - `date` - дата
    - `student_attestation_scores` - фактические баллы студента за аттестацию
    - `are_all_attestations_passed` - прохождение всех аттестаций

_Спросить норм ли хранить про каждого студента табличку?_

Третья нормальная форма... опять 25... все норм, уже готова.

### 1.4 - 10 баллов
__Прейскурант цен запчастей для велосипеда__
Отношение B (provider_city, provider_address, provider_inn, provider_name,
spare_parts_prices). 

- `provider_city` - город поставщика
- `provider_address` - адрес поставщика
- `provider_inn` - ИНН поставщика
- `provider_name` - имя поставщика
- `spare_parts_prices` - таблица, содержащая в столбцах наименование запчасти,
в строках содержится наименование велосипеда, в ячейке содержится ценник на 
запчасть для конкретного велосипеда

Первая нормальная форма, избавимся от таблицы:
- `provider_city` - город поставщика
- `provider_address` - адрес поставщика
- `provider_inn` - ИНН поставщика
- `provider_name` - имя поставщика
- `spare_part_name` - запчасть / деталь - название
- `bike_type` - название типа велосипеда
- `price` -  цена запчасти для конкретного велосипеда

Вторая нормальная форма, декомпозируем на две таблицы - Providers и Spares:
1. Таблица __Providers__ или отношение __BI__ - `provider_inn`
    - `provider_inn` - ИНН поставщика
    - `provider_name` - имя поставщика
    - `provider_city` - город поставщика
    - `provider_address` - адрес поставщика

2. Таблица __Spares__ или отношение __BS__ - `spare_part_name`, `provider_inn`,
`bike_type`
    - `provider_inn` - ИНН поставщика
    - `spare_part_name` - запчасть / деталь - название
    - `bike_type` - название типа велосипеда
    - `price` -  цена запчасти для конкретного велосипеда

Третья нормальная форма, урааа! Транзитивной зависимости нет :с